// logics to calculate portions/macros